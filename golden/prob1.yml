in_source: |-
  section .text
    .start:
        ld r1 0
        ld r2 1
        ld r3 3
        ld r5 5
        ld r4 0
        ld r7 1000
    .loop:
        mv r2 r6
        mod r6 r3
        cmp r6 r4
        je .summ

        mv r2 r6
        mod r6 r5
        cmp r6 r4
        jne .next
    .summ:
        add r1 r2
    .next:
        inc r2
        cmp r2 r7
        jl .loop
    st r1 [OUT]
    halt

in_stdin: |

out_log: |
  DEBUG emulator:simulation TICK:   0 PC:   0  MEM_OUT: 0 0 reg: 'r0': 0, 'r1': 0, 'r2': 0, 'r3': 0, 'r4': 0, 'r5': 0, 'r6': 0, 'r7': 0, 'r8': 0, 'r9': 0, 'r10': 0, 'r11': 0, 'r12': 0, 'r13': 0, 'r14': 0, 'r15': 4095 	  ('0'@Opcode.NOP:0 0)
  DEBUG emulator:simulation TICK:   2 PC:   1  MEM_OUT: 0 0 reg: 'r0': 0, 'r1': 0, 'r2': 0, 'r3': 0, 'r4': 0, 'r5': 0, 'r6': 0, 'r7': 0, 'r8': 0, 'r9': 0, 'r10': 0, 'r11': 0, 'r12': 0, 'r13': 1, 'r14': 0, 'r15': 4095 	  ('1'@Opcode.NOP:0 0)
  DEBUG emulator:simulation TICK:   4 PC:   2  MEM_OUT: r1 1000 reg: 'r0': 0, 'r1': 0, 'r2': 0, 'r3': 0, 'r4': 0, 'r5': 0, 'r6': 0, 'r7': 0, 'r8': 0, 'r9': 0, 'r10': 0, 'r11': 0, 'r12': 0, 'r13': 2, 'r14': 0, 'r15': 4095 	  ('2'@Opcode.LD_LIT:Register.r1 1000)
  DEBUG emulator:simulation TICK:   7 PC:   3  MEM_OUT: r2 0 reg: 'r0': 0, 'r1': 1000, 'r2': 0, 'r3': 0, 'r4': 0, 'r5': 0, 'r6': 0, 'r7': 0, 'r8': 0, 'r9': 0, 'r10': 0, 'r11': 0, 'r12': 0, 'r13': 3, 'r14': Register.r1, 'r15': 4095 	  ('3'@Opcode.LD_LIT:Register.r2 0)
  DEBUG emulator:simulation TICK:  10 PC:   4  MEM_OUT: r3 3 reg: 'r0': 0, 'r1': 1000, 'r2': 0, 'r3': 0, 'r4': 0, 'r5': 0, 'r6': 0, 'r7': 0, 'r8': 0, 'r9': 0, 'r10': 0, 'r11': 0, 'r12': 0, 'r13': 4, 'r14': Register.r2, 'r15': 4095 	  ('4'@Opcode.LD_LIT:Register.r3 3)
  DEBUG emulator:simulation TICK:  13 PC:   5  MEM_OUT: r4 5 reg: 'r0': 0, 'r1': 1000, 'r2': 0, 'r3': 3, 'r4': 0, 'r5': 0, 'r6': 0, 'r7': 0, 'r8': 0, 'r9': 0, 'r10': 0, 'r11': 0, 'r12': 0, 'r13': 5, 'r14': Register.r3, 'r15': 4095 	  ('5'@Opcode.LD_LIT:Register.r4 5)
  DEBUG emulator:simulation TICK:  16 PC:   6  MEM_OUT: r5 0 reg: 'r0': 0, 'r1': 1000, 'r2': 0, 'r3': 3, 'r4': 5, 'r5': 0, 'r6': 0, 'r7': 0, 'r8': 0, 'r9': 0, 'r10': 0, 'r11': 0, 'r12': 0, 'r13': 6, 'r14': Register.r4, 'r15': 4095 	  ('6'@Opcode.LD_LIT:Register.r5 0)
  DEBUG emulator:simulation TICK:  19 PC:   7  MEM_OUT: r6 0 reg: 'r0': 0, 'r1': 1000, 'r2': 0, 'r3': 3, 'r4': 5, 'r5': 0, 'r6': 0, 'r7': 0, 'r8': 0, 'r9': 0, 'r10': 0, 'r11': 0, 'r12': 0, 'r13': 7, 'r14': Register.r5, 'r15': 4095 	  ('7'@Opcode.LD_LIT:Register.r6 0)
  DEBUG emulator:simulation TICK:  22 PC:   8  MEM_OUT: r1 r2 reg: 'r0': 0, 'r1': 1000, 'r2': 0, 'r3': 3, 'r4': 5, 'r5': 0, 'r6': 0, 'r7': 0, 'r8': 0, 'r9': 0, 'r10': 0, 'r11': 0, 'r12': 0, 'r13': 8, 'r14': Register.r6, 'r15': 4095 	  ('8'@Opcode.CMP:Register.r1 Register.r2)
  DEBUG emulator:simulation TICK:  25 PC:   9  MEM_OUT: 10 0 reg: 'r0': 0, 'r1': 1000, 'r2': 0, 'r3': 3, 'r4': 5, 'r5': 0, 'r6': 0, 'r7': 0, 'r8': 0, 'r9': 0, 'r10': 0, 'r11': 0, 'r12': 0, 'r13': 9, 'r14': Register.r1, 'r15': 4095 	  ('9'@Opcode.JE:10 0)
  DEBUG emulator:simulation TICK:  27 PC:  10  MEM_OUT: r3 1 reg: 'r0': 0, 'r1': 1000, 'r2': 0, 'r3': 3, 'r4': 5, 'r5': 0, 'r6': 0, 'r7': 0, 'r8': 0, 'r9': 0, 'r10': 0, 'r11': 0, 'r12': 0, 'r13': 10, 'r14': 10, 'r15': 4095 	  ('10'@Opcode.ST_ADDR:Register.r3 1)
  DEBUG emulator:memory_perform output: '' <- '\x03'
  DEBUG emulator:simulation TICK:  32 PC:  11  MEM_OUT: 0 0 reg: 'r0': 0, 'r1': 1000, 'r2': 0, 'r3': 3, 'r4': 5, 'r5': 0, 'r6': 0, 'r7': 0, 'r8': 0, 'r9': 0, 'r10': 0, 'r11': 0, 'r12': 0, 'r13': 11, 'r14': 3, 'r15': 4095 	  ('11'@Opcode.HALT:0 0)
  INFO emulator:simulation output_buffer: '\x03'
out_stdout: |
  ============================================================
  
  instr_counter:  11 ticks: 33
out_code: |-
  [{"index": 0, "opcode": "NOP", "arg1": 0, "arg2": 0},
   {"index": 1, "opcode": "NOP", "arg1": 0, "arg2": 0},
   {"index": 2, "opcode": "LD_LIT", "arg1": "r1", "arg2": 1000},
   {"index": 3, "opcode": "LD_LIT", "arg1": "r2", "arg2": 0},
   {"index": 4, "opcode": "LD_LIT", "arg1": "r3", "arg2": 3},
   {"index": 5, "opcode": "LD_LIT", "arg1": "r4", "arg2": 5},
   {"index": 6, "opcode": "LD_LIT", "arg1": "r5", "arg2": 0},
   {"index": 7, "opcode": "LD_LIT", "arg1": "r6", "arg2": 0},
   {"index": 8, "opcode": "CMP", "arg1": "r1", "arg2": "r2"},
   {"index": 9, "opcode": "JE", "arg1": 10, "arg2": 0},
   {"index": 10, "opcode": "ST_ADDR", "arg1": "r3", "arg2": 1},
   {"index": 11, "opcode": "HALT", "arg1": 0, "arg2": 0}]
